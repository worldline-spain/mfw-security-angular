{"version":3,"sources":["../src/mfw-security-route-interceptor-uirouter.service.js"],"names":["$mfwSecurityRouteInterceptor","this","$get","$log","$rootScope","$timeout","$mfwSecurityRouteInterceptorConfig","$mfwSecurity","$state","$mfwSecurityConfig","_init","_validateConfig","DEFAULT_STATE","defaultState","LOGIN_STATE","_loginState","$on","_stateChangeStartHandler","_stateChangeErrorHandler","_stateChangeSuccessHandler","EVENT_LOGIN","_loginEventHandler","EVENT_LOGOUT","_logoutEventHandler","_hasStoppedTransition","angular","isDefined","stoppedTransition","stoppedTransitionParameters","logError","msg","error","avoidLoginStateWhenLoggedIn","isUndefined","forwardToDefaultStateAfterLogin","ev","toState","toParams","stopTransition","preventDefault","saveStoppedTransition","isInitialized","loggedIn","isLogged","_isLoginState","debug","_transitionTo","_isPublicState","_hasAccessToState","warn","name","_notifyTransitionStopped","forwardToLoginAfterStoppedTransition","info","evt","to","toP","from","fromP","err","status","forwardToRestrictedStateAfterLogin","_doLogout","removeStoppedTransition","isString","undefined","transitionToDefault","log","forwardToLoginAfterLogout","logout","result","cfgLoginStateName","loginState","get","loginStates","filter","length","Error","state","cfg","_securityConfigInState","login","config","data","STATE_DATA_KEY","stateParams","perms","permissions","allowed","isArray","hasAnyPermission","isObject","all","hasAllPermissions","any","publicByDefault","_broadcast","EVENT_TRANSITION_STOPPED","event","$broadcast","go","service","init","currentStoppedTransition","RouteInterceptorModule","module","run","constant","provider"],"mappings":"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","file":"mfw-security-route-interceptor-uirouter.service.min.js"}