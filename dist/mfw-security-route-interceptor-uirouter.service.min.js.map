{"version":3,"sources":["../src/mfw-security-route-interceptor-uirouter.service.js"],"names":["$mfwSecurityRouteInterceptor","this","$get","$log","$rootScope","$timeout","$mfwSecurityRouteInterceptorConfig","$mfwSecurity","$state","$mfwSecurityConfig","_init","_validateConfig","DEFAULT_STATE","defaultState","LOGIN_STATE","_loginState","$on","_stateChangeStartHandler","_stateChangeErrorHandler","EVENT_LOGIN","_loginEventHandler","EVENT_LOGOUT","_logoutEventHandler","logError","msg","error","avoidLoginStateWhenLoggedIn","angular","isUndefined","forwardToDefaultStateAfterLogin","ev","toState","toParams","stopTransition","preventDefault","saveStoppedTransition","loggedIn","isLogged","_isLoginState","debug","_transitionTo","_hasAccessToState","warn","name","_notifyTransitionStopped","forwardToLoginAfterStoppedTransition","evt","to","toP","from","fromP","err","status","forwardToRestrictedStateAfterLogin","_doLogout","stoppedTransition","isString","stoppedTransitionParameters","transitionToDefault","log","forwardToLoginAfterLogout","logout","result","cfgLoginStateName","loginState","isDefined","get","loginStates","filter","length","Error","state","cfg","_securityConfigInState","login","config","data","STATE_DATA_KEY","stateParams","perms","permissions","allowed","_isPublicState","isArray","hasAnyPermission","isObject","all","hasAllPermissions","any","publicByDefault","_broadcast","EVENT_TRANSITION_STOPPED","event","$broadcast","go","service","init","RouteInterceptorModule","module","run","constant","undefined","provider"],"mappings":"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","file":"mfw-security-route-interceptor-uirouter.service.min.js"}