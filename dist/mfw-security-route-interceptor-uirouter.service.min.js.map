{"version":3,"sources":["../src/mfw-security-route-interceptor-uirouter.service.js"],"names":["$mfwSecurityRouteInterceptor","this","$get","$log","$rootScope","$timeout","$mfwSecurityRouteInterceptorConfig","$mfwSecurity","$state","$mfwSecurityConfig","_init","_validateConfig","DEFAULT_STATE","defaultState","LOGIN_STATE","_loginState","$on","_stateChangeStartHandler","_stateChangeErrorHandler","_stateChangeSuccessHandler","EVENT_LOGIN","_loginEventHandler","EVENT_LOGOUT","_logoutEventHandler","_hasStoppedTransition","angular","isDefined","stoppedTransition","stoppedTransitionParameters","logError","msg","error","avoidLoginStateWhenLoggedIn","isUndefined","forwardToDefaultStateAfterLogin","ev","toState","toParams","stopTransition","preventDefault","saveStoppedTransition","isInitialized","loggedIn","isLogged","_isLoginState","debug","_transitionTo","_isPublicState","_hasAccessToState","warn","name","_notifyTransitionStopped","forwardToLoginAfterStoppedTransition","info","onInitialized","evt","to","toP","from","fromP","err","status","forwardToRestrictedStateAfterLogin","_doLogout","removeStoppedTransition","isString","undefined","transitionToDefault","log","forwardToLoginAfterLogout","logout","result","cfgLoginStateName","loginState","get","loginStates","filter","length","Error","state","cfg","_securityConfigInState","login","config","data","STATE_DATA_KEY","stateParams","perms","permissions","allowed","isArray","hasAnyPermission","isObject","all","hasAllPermissions","any","publicByDefault","_broadcast","EVENT_TRANSITION_STOPPED","event","$broadcast","go","service","init","currentStoppedTransition","RouteInterceptorModule","module","run","constant","provider"],"mappings":"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","file":"mfw-security-route-interceptor-uirouter.service.min.js"}