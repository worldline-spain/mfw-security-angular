{"version":3,"sources":["../src/mfw-security-route-interceptor-uirouter.service.js"],"names":["$mfwSecurityRouteInterceptor","this","$get","$log","$rootScope","$timeout","$mfwSecurityRouteInterceptorConfig","$mfwSecurity","$state","$mfwSecurityConfig","_init","_validateConfig","DEFAULT_STATE","defaultState","LOGIN_STATE","_loginState","$on","_stateChangeStartHandler","_stateChangeErrorHandler","removeStoppedTransition","EVENT_LOGIN","_loginEventHandler","EVENT_LOGOUT","_logoutEventHandler","_hasStoppedTransition","angular","isDefined","stoppedTransition","stoppedTransitionParameters","logError","msg","error","avoidLoginStateWhenLoggedIn","isUndefined","forwardToDefaultStateAfterLogin","ev","toState","toParams","stopTransition","preventDefault","saveStoppedTransition","isInitialized","loggedIn","isLogged","_isLoginState","debug","_transitionTo","_hasAccessToState","warn","name","_notifyTransitionStopped","forwardToLoginAfterStoppedTransition","info","evt","to","toP","from","fromP","err","status","forwardToRestrictedStateAfterLogin","_doLogout","isString","undefined","transitionToDefault","log","forwardToLoginAfterLogout","logout","result","cfgLoginStateName","loginState","get","loginStates","filter","length","Error","state","cfg","_securityConfigInState","login","config","data","STATE_DATA_KEY","stateParams","perms","permissions","allowed","_isPublicState","isArray","hasAnyPermission","isObject","all","hasAllPermissions","any","publicByDefault","_broadcast","EVENT_TRANSITION_STOPPED","event","$broadcast","go","service","init","currentStoppedTransition","RouteInterceptorModule","module","run","constant","provider"],"mappings":"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","file":"mfw-security-route-interceptor-uirouter.service.min.js"}