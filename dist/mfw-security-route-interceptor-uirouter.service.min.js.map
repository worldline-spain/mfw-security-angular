{"version":3,"sources":["../src/mfw-security-route-interceptor-uirouter.service.js"],"names":["$mfwSecurityRouteInterceptor","this","$get","$log","$rootScope","$timeout","$mfwSecurityRouteInterceptorConfig","$mfwSecurity","$state","$mfwSecurityConfig","_init","_validateConfig","DEFAULT_STATE","defaultState","LOGIN_STATE","_loginState","$on","_stateChangeStartHandler","_stateChangeErrorHandler","removeStoppedTransition","EVENT_LOGIN","_loginEventHandler","EVENT_LOGOUT","_logoutEventHandler","_hasStoppedTransition","angular","isDefined","stoppedTransition","stoppedTransitionParameters","logError","msg","error","avoidLoginStateWhenLoggedIn","isUndefined","forwardToDefaultStateAfterLogin","ev","toState","toParams","stopTransition","preventDefault","saveStoppedTransition","loggedIn","isLogged","_isLoginState","debug","_transitionTo","_hasAccessToState","warn","name","_notifyTransitionStopped","forwardToLoginAfterStoppedTransition","evt","to","toP","from","fromP","err","status","forwardToRestrictedStateAfterLogin","_doLogout","isString","undefined","transitionToDefault","log","forwardToLoginAfterLogout","logout","result","cfgLoginStateName","loginState","get","loginStates","filter","length","Error","state","cfg","_securityConfigInState","login","config","data","STATE_DATA_KEY","stateParams","perms","permissions","allowed","_isPublicState","isArray","hasAnyPermission","isObject","all","hasAllPermissions","any","publicByDefault","_broadcast","EVENT_TRANSITION_STOPPED","event","$broadcast","go","service","init","currentStoppedTransition","RouteInterceptorModule","module","run","constant","provider"],"mappings":"CAAA,WACE,YA8PA,SAASA,KACPC,KAAKC,MAAQ,OAAQ,aAAc,WAAY,qCAAsC,eAAgB,SAAU,qBAAsB,SAAUC,EAAMC,EAAYC,EAAUC,EAAoCC,EAAcC,EAAQC,GAiCnO,QAASC,KACPC,IAEAC,EAAgBN,EAAmCO,aACnDC,EAAcC,IAGdX,EAAWY,IAAI,oBAAqBC,GACpCb,EAAWY,IAAI,oBAAqBE,GACpCd,EAAWY,IAAI,sBAAuBG,GAGtCf,EAAWY,IAAIP,EAAmBW,YAAaC,GAC/CjB,EAAWY,IAAIP,EAAmBa,aAAcC,GAclD,QAASC,KACP,GAAIC,QAAQC,UAAUC,GACpB,OAAQA,EAAmBC,GAQ/B,QAASjB,KAUP,QAASkB,GAASC,GAChB3B,EAAK4B,MAAM,uBAAwBD,GAVjCxB,EAAmC0B,+BAAgC,GAClEP,QAAQQ,YAAY3B,EAAmCO,eAC1DgB,EAAS,4DAEPvB,EAAmC4B,mCAAoC,GACtET,QAAQQ,YAAY3B,EAAmCO,eAC1DgB,EAAS,gEAeb,QAASZ,GAAyBkB,EAAIC,EAASC,GA8B7C,QAASC,KACPH,EAAGI,iBACHC,EAAsBJ,EAASC,GA/BjC,GAAII,GAAWlC,EAAamC,UACxBC,GAAcP,IAAYK,GAAYnC,EAAmC0B,+BAAgC,EACvGpB,GAEFT,EAAKyC,MAAM,uGAAwGhC,GACnH0B,IAGAjC,EAAS,WACPwC,EAAcjC,MAGhBT,EAAK4B,MAAM,qFAEHe,EAAkBV,EAASC,GAYrClC,EAAKyC,MAAM,2DAXXzC,EAAK4C,KAAK,+BAAgCX,EAAQY,MAClDV,IAGAW,IAGI3C,EAAmC4C,wCAAyC,GAC9EL,EAAc/B,IAsBpB,QAASI,GAAyBiC,EAAKC,EAAIC,EAAKC,EAAMC,EAAOC,GACxC,MAAfA,EAAIC,SACNtD,EAAK4B,MAAM,4DAEPzB,EAAmCoD,sCAAuC,GAC5ElB,EAAsBY,EAAIC,GAG5BM,KAIJ,QAASnB,GAAsBJ,EAASC,GAEtCV,EAAoBF,QAAQmC,SAASxB,GAAWA,EAAUA,EAAQY,KAClEpB,EAA8BS,EAGhC,QAASlB,KACPQ,EAAoBkC,OACpBjC,EAA8BiC,OAOhC,QAASxC,KAaP,QAASyC,KACHxD,EAAmC4B,mCAAoC,GAAQtB,IACjFT,EAAKyC,MAAM,2CAA4ChC,GACvDiC,EAAcjC,IAfde,GACErB,EAAmCoD,sCAAuC,GAC5EvD,EAAK4D,IAAI,+CAAgDpC,GACzDkB,EAAclB,EAAmBC,IAEjCkC,IAEFnC,EAAoB,MAEpBmC,IAeJ,QAASvC,KACHjB,EAAmC0D,6BAA8B,IAC/DlD,GACFX,EAAK4D,IAAI,4CACTlB,EAAc/B,IAEdX,EAAK4C,KAAK,qEAShB,QAASY,KACPpD,EAAa0D,SAUf,QAASlD,KACP,GAAImD,GACAC,EAAoB7D,EAAmC8D,UAEvD3C,SAAQC,UAAUyC,KACpBhE,EAAKyC,MAAM,0CAA2CuB,GACtDD,EAAS1D,EAAO6D,IAAIF,GAEfD,GACH/D,EAAK4C,KAAK,6BAA+BoB,GAM7C,IAAIG,GAAc9D,EAAO6D,MAAME,OAAO5B,EACtC,IAAI2B,EAAYE,OAAS,EACvB,KAAM,IAAIC,OAAM,0CACX,IAA2B,IAAvBH,EAAYE,OAAc,CACnC,GAAIE,GAAQJ,EAAY,EACnBJ,GAGH/D,EAAKyC,MAAM,+BAAgC8B,EAAM1B,MAFjD7C,EAAKyC,MAAM,oBAAqB8B,EAAM1B,MAIxCkB,EAASQ,EAOX,MAJKR,IACH/D,EAAK4C,KAAK,2CAGLmB,EAST,QAASvB,GAAc+B,GACrB,GAAIC,GAAMC,EAAuBF,EACjC,OAAOC,GAAIE,SAAU,GAChBH,EAAM1B,OAAS1C,EAAmC8D,WASzD,QAASQ,GAAuBF,GAC9B,GAAII,GAASJ,EAAMK,QAInB,OAHIC,KACFF,EAASA,EAAOE,QAEXF,EAUT,QAAShC,GAAkB4B,EAAOO,GAChC,GAAIN,GAAMC,EAAuBF,GAC7BQ,EAAQP,EAAIQ,YACZzC,EAAWnC,EAAamC,WAExB0C,GAAU,CAqCd,OAnCIC,GAAeX,IAEjBvE,EAAKyC,MAAM,yBAA0B8B,EAAM1B,MAC3CoC,GAAU,GACAF,EAiBNzD,QAAQmC,SAASsB,IAAUzD,QAAQ6D,QAAQJ,GAC7CE,EAAU7E,EAAagF,iBAAiBL,GAC/BzD,QAAQ+D,SAASN,GACtBA,EAAMO,IACRL,EAAU7E,EAAamF,kBAAkBR,EAAMO,KACtCP,EAAMS,IACfP,EAAU7E,EAAagF,iBAAiBL,EAAMS,KAE9CxF,EAAK4C,KAAK,sCAAuC2B,EAAM1B,MAGzD7C,EAAK4C,KAAK,sCAAuC2B,EAAM1B,MA1BrD1C,EAAmCsF,mBAAoB,GAEzDzF,EAAKyC,MAAM,QAAS8B,EAAM1B,KAAM,4EAChCoC,EAAU1C,EACNA,EACFvC,EAAKyC,MAAM,8CAA+C8B,EAAM1B,MAEhE7C,EAAKyC,MAAM,qDAAsD8B,EAAM1B,QAGzE7C,EAAKyC,MAAM,QAAS8B,EAAM1B,KAAM,2EAChCoC,GAAU,GAkBPA,EAST,QAASC,GAAeX,GACtB,GAAIC,GAAMC,EAAuBF,GAC7BQ,EAAQP,EAAIQ,WAChB,OAAOR,GAAAA,aAAe,GACjBhC,EAAc+B,MACZQ,IAAUA,EAAMV,SAAWlE,EAAmCsF,gBAYvE,QAAS3C,KACP4C,EAAWC,GAWb,QAASD,GAAWE,EAAOhB,GACzB3E,EAAW4F,WAAWD,EAAOhB,GAW/B,QAASlC,GAAc6B,EAAOO,GAC5BzE,EAAOyF,GAAGvB,EAAOO,GAvXnB,GAAInE,GAAaF,EAGbe,EAAmBC,EAUnBsE,GACFC,KAAMzF,EACN0F,yBAA0B5E,EAE5B,OAAO0E,KA3JX,GAAIG,GAAyB5E,QAAQ6E,OAAO,2CAC1C,eACA,aAqBFD,GAAuBE,KAAK,+BAAgC,SAAmBvG,GAC7EA,EAA6BmG,SAQ/B,IAAInB,GAAiB,KAMjBc,EAA2B,oCAe/BO,GAAuBG,SAAS,sCAS9BZ,iBAAiB,EAOjBxB,WAAYP,OASZhD,aAAcgD,OASd3B,iCAAiC,EASjC8B,2BAA2B,EAS3BN,oCAAoC,EASpCR,sCAAsC,EAStClB,6BAA6B,IAW/BqE,EAAuBI,SAAS,+BAAgCzG","file":"mfw-security-route-interceptor-uirouter.service.min.js"}